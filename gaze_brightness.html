
<!DOCTYPE html>

<html>
<head>
    <link rel="stylesheet" type="text/css" href="./css/styleicub.css" />
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,200,300,600,700' rel='stylesheet' type='text/css'>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
    <script src="./js/toolkit.js" type="text/javascript"></script>
    <title>iCub Data Visualisation</title>
    <meta charset="UTF-8" />
    
</head>
<body>
    <div class="header">
        <h1><a href="./"><strong>iCub</strong></a></h1>
        <p>Data Visualisation</p>    
        <ul>
            <a href="https://github.com/kil7/iCub-Data-Visualisation">
                <img id= "git" src="./images/GitHub-Mark-32px.png" alt="git">
            </a>
        </ul>
    </div>
    <div class="titlebar">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="gaze_maps.html">Gaze Maps</a></li>
            <li><a href="edges_maps.html">Edges Maps</a></li>
            <li><a href="colour_maps.html">Colour Maps</a></li>
            <li><a href="brightness_maps.html">Brightness Maps</a></li>
            <li><a href="motion_maps.html">Motion Maps</a></li>
            <li><a href="combinations.html">Data Combinations</a></li>
        </ul>
    </div>
    <div class="data">

        <h2>Gaze Maps Showing Size and Brightness of Detected Light</h2>
        <p>The following series of charts visualises the mapping between the iCub's detection of light, and it's location in X/Y space over the learning timeframe. The intensity of the colour in the chart bubbles corresponds directly to brightness figure the iCub captures. The radius of each bubble represents the size of the light patch.</p>
        <hr>  
        <canvas id="myChart" width="500" height="500"></canvas>    
        <script>
            if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp=new XMLHttpRequest();
            }
                else {    // code for IE6, IE5
                    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                }
                xmlhttp.open("GET","./datasets/dataset_1/OBJPERC_gazemap_stage_0.xml",false);
                xmlhttp.send();
                xmlDoc=xmlhttp.responseXML;

                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttpbrightness=new XMLHttpRequest();
                }
                else {    // code for IE6, IE5
                    xmlhttpbrightness=new ActiveXObject("Microsoft.XMLHTTP");
                }
                xmlhttpbrightness.open("GET","./datasets/dataset_1/OBJPERC_brightnessmap_stage_0.xml",false);
                xmlhttpbrightness.send();
                xmlDocBright=xmlhttpbrightness.responseXML;

                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttpmappings=new XMLHttpRequest();
                }
                else {    // code for IE6, IE5
                    xmlhttpmappings=new ActiveXObject("Microsoft.XMLHTTP");
                }
                xmlhttpmappings.open("GET","./datasets/dataset_1/OBJPERC_mappings_stage_0.xml",false);
                xmlhttpmappings.send();
                xmlDocMap=xmlhttpmappings.responseXML;

                x = xmlDoc.documentElement.childNodes;
                y = xmlDoc.getElementsByTagName("Field");
                z = xmlDocBright.getElementsByTagName("Field");
                a = xmlDocMap.getElementsByTagName("Mapping");

                var arrRad = [];
                var arrY = [];
                var arrX = [];
                var arrB = [];

                var arrGazeIndex = [];
                var arrBrightIndex = [];

                var arrM1 = [];
                var arrM2 = [];
                for (i = 0; i < y.length; i++) {
                    var firstRow = xmlDoc.getElementsByTagName("Field")[i];
                    var radius = firstRow.getAttribute("Radius");
                    arrRad.push(radius);

                    var gazeIndex = firstRow.getAttribute("Index");
                    arrGazeIndex.push(gazeIndex);
                }

                for (k = 0; k < a.length; k++) {
                    var firstRowMap = xmlDocMap.getElementsByTagName("Mapping")[k];
                    var mapone = firstRowMap.getAttribute("OneIndex");
                    arrM1.push(mapone);
                    var maptwo = firstRowMap.getAttribute("TwoIndex");
                    arrM2.push(maptwo);
                }

                for (j = 0; j < z.length; j++) {
                    var firstRowB = xmlDocBright.getElementsByTagName("Field")[j];
                    var brightIndex = firstRowB.getAttribute("Index");
                    arrBrightIndex.push(brightIndex);

                }
                var arrBTest = [];
                var arrBSize = [];
                var arrGazeIndexTest = [];

                var arrXTest = [];
                var arrYTest = [];
                for(i = 0; i <arrM1.length; i++) {
                    if(isIncluded(arrBrightIndex, arrM2[i]) == true  && isIncluded(arrGazeIndex, arrM1[i]) == true) {
                        var arrBrightIndexTest = [];
                        for (j = 0; j<z.length; j++) {
                            var firstRowBTest = xmlDocBright.getElementsByTagName("Field")[j];
                            xCoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[0];
                            ycoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[1];

                            brightnessTest = xCoordsRowBTest.getAttribute("Value");
                            brightnessSize = ycoordsRowBTest.getAttribute("Value");

                            var brightnessFloat = parseFloat(brightnessTest/2/100);
                            var brightnessTest = brightnessFloat.toString();


                            //Potential to comment these two lines out for bigger and better bubbles!
                            var brightnessSizeFloat = parseFloat(brightnessSize/2);
                            var brightnessSize = brightnessSizeFloat.toString();

                            var brightIndexTest = firstRowBTest.getAttribute("Index");
                            arrBrightIndexTest.push(brightIndexTest);

                            if (arrBrightIndexTest[j] == arrM2[i]) {
                                arrBTest.push(brightnessTest);
                                arrBSize.push(brightnessSize);
                                arrGazeIndexTest.push(arrM1[i]);
                            }

                        }
                        var arrGazeIndexTest2 = [];
                        for (j = 0; j<y.length; j++) {
                            var firstRowTest = xmlDoc.getElementsByTagName("Field")[j];
                            xCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[0];
                            yCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[1];

                            xCoordTest = xCoordsRowTest.getAttribute("Value");
                            yCoordTest = yCoordsRowTest.getAttribute("Value");

                            var gazeIndexTest = firstRowTest.getAttribute("Index");
                            arrGazeIndexTest2.push(gazeIndexTest);

                            if (arrGazeIndexTest2[j] == arrM1[i]) {
                                arrXTest.push(xCoordTest);
                                arrYTest.push(yCoordTest);

                            }
                        }
                    }
                }


                var chartDataTest = [];
                arrXTest.forEach(function(e, i) {
                    chartDataTest.push({
                        x: parseFloat(e),
                        y: parseFloat(arrYTest[i]), 
                        r: parseFloat(arrBSize[i]),
                    });
                });

                var rgbArray = [];
                for (i = 0; i < arrBTest.length; i++) {
                    testest = HSVtoRGB(0.15, 0.5, parseFloat(arrBTest[i]));
                    var str = objectToString(testest);
                    var replaceR = str.replace(/r:'/g, '');
                    var replaceG = replaceR.replace(/'g:'/g, ',');
                    var replaceB = replaceG.replace(/',b:'/g, ',');
                    var replaceEnd = replaceB.replace(/',/g, '');

                    rgbArray.push('rgba(' + replaceEnd + ',0.3)');

                }


                var ctx = document.getElementById("myChart");
                var myChart = new Chart(ctx, {
                    type: 'bubble',
                    data: { 
                        labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                        datasets: [
                        {
                            label: 'Gaze & Brightness Map Month 0',
                            data: chartDataTest,
                            backgroundColor: rgbArray,
                            hoverBackgroundColor: rgbArray,
                        }]
                    },
                    options: {
                        legend: {
                            display: false
                        },
                        title: {
                                    display: true,
                                    text: 'Gaze & Brightness Maps Month 0'
                                },
                        scales: {
                            yAxes: [{
                                ticks: {
                                    beginAtZero:true
                                }
                            }],
                            xAxes: [{
                                ticks: {
                                    beginAtZero:true
                                }
                            }]
                        }
                    }
                });
            </script>

            <canvas id="myChart1" width="500" height="500"></canvas>  
            <script>
                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                    else {    // code for IE6, IE5
                        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttp.open("GET","./datasets/dataset_1/OBJPERC_gazemap_stage_1.xml",false);
                    xmlhttp.send();
                    xmlDoc=xmlhttp.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpbrightness=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpbrightness=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpbrightness.open("GET","./datasets/dataset_1/OBJPERC_brightnessmap_stage_1.xml",false);
                    xmlhttpbrightness.send();
                    xmlDocBright=xmlhttpbrightness.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpmappings=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpmappings=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpmappings.open("GET","./datasets/dataset_1/OBJPERC_mappings_stage_1.xml",false);
                    xmlhttpmappings.send();
                    xmlDocMap=xmlhttpmappings.responseXML;

                    x = xmlDoc.documentElement.childNodes;
                    y = xmlDoc.getElementsByTagName("Field");
                    z = xmlDocBright.getElementsByTagName("Field");
                    a = xmlDocMap.getElementsByTagName("Mapping");

                    var arrRad = [];
                    var arrY = [];
                    var arrX = [];
                    var arrB = [];

                    var arrGazeIndex = [];
                    var arrBrightIndex = [];

                    var arrM1 = [];
                    var arrM2 = [];
                    for (i = 0; i < y.length; i++) {
                        var firstRow = xmlDoc.getElementsByTagName("Field")[i];
                        var radius = firstRow.getAttribute("Radius");
                        arrRad.push(radius);

                        var gazeIndex = firstRow.getAttribute("Index");
                        arrGazeIndex.push(gazeIndex);
                    }

                    for (k = 0; k < a.length; k++) {
                        var firstRowMap = xmlDocMap.getElementsByTagName("Mapping")[k];
                        var mapone = firstRowMap.getAttribute("OneIndex");
                        arrM1.push(mapone);
                        var maptwo = firstRowMap.getAttribute("TwoIndex");
                        arrM2.push(maptwo);
                    }

                    for (j = 0; j < z.length; j++) {
                        var firstRowB = xmlDocBright.getElementsByTagName("Field")[j];
                        var brightIndex = firstRowB.getAttribute("Index");
                        arrBrightIndex.push(brightIndex);

                    }
                    var arrBTest = [];
                    var arrBSize = [];
                    var arrGazeIndexTest = [];

                    var arrXTest = [];
                    var arrYTest = [];
                    for(i = 0; i <arrM1.length; i++) {
                        if(isIncluded(arrBrightIndex, arrM2[i]) == true  && isIncluded(arrGazeIndex, arrM1[i]) == true) {
                            var arrBrightIndexTest = [];
                            for (j = 0; j<z.length; j++) {
                                var firstRowBTest = xmlDocBright.getElementsByTagName("Field")[j];
                                xCoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[0];
                                ycoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[1];

                                brightnessTest = xCoordsRowBTest.getAttribute("Value");
                                brightnessSize = ycoordsRowBTest.getAttribute("Value");

                                var brightnessFloat = parseFloat(brightnessTest/2/100);
                                var brightnessTest = brightnessFloat.toString();


                                //Potential to comment these two lines out for bigger and better bubbles!
                                var brightnessSizeFloat = parseFloat(brightnessSize/2);
                                var brightnessSize = brightnessSizeFloat.toString();

                                var brightIndexTest = firstRowBTest.getAttribute("Index");
                                arrBrightIndexTest.push(brightIndexTest);

                                if (arrBrightIndexTest[j] == arrM2[i]) {
                                    arrBTest.push(brightnessTest);
                                    arrBSize.push(brightnessSize);
                                    arrGazeIndexTest.push(arrM1[i]);
                                }

                            }
                            var arrGazeIndexTest2 = [];
                            for (j = 0; j<y.length; j++) {
                                var firstRowTest = xmlDoc.getElementsByTagName("Field")[j];
                                xCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[0];
                                yCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[1];

                                xCoordTest = xCoordsRowTest.getAttribute("Value");
                                yCoordTest = yCoordsRowTest.getAttribute("Value");

                                var gazeIndexTest = firstRowTest.getAttribute("Index");
                                arrGazeIndexTest2.push(gazeIndexTest);

                                if (arrGazeIndexTest2[j] == arrM1[i]) {
                                    arrXTest.push(xCoordTest);
                                    arrYTest.push(yCoordTest);

                                }
                            }
                        }
                    }

                    var chartDataTest = [];
                    arrXTest.forEach(function(e, i) {
                        chartDataTest.push({
                            x: parseFloat(e),
                            y: parseFloat(arrYTest[i]), 
                            r: parseFloat(arrBSize[i]),
                        });
                    });


                    var rgbArray = [];
                    for (i = 0; i < arrBTest.length; i++) {
                        testest = HSVtoRGB(0.15, 0.5, parseFloat(arrBTest[i]));
                        var str = objectToString(testest);
                        var replaceR = str.replace(/r:'/g, '');
                        var replaceG = replaceR.replace(/'g:'/g, ',');
                        var replaceB = replaceG.replace(/',b:'/g, ',');
                        var replaceEnd = replaceB.replace(/',/g, '');

                        rgbArray.push('rgba(' + replaceEnd + ',0.3)');

                    }

                    var ctx = document.getElementById("myChart1");
                    var myChart = new Chart(ctx, {
                        type: 'bubble',
                        data: { 
                            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                            datasets: [
                            {
                                label: 'Gaze Map Month 1',
                                data: chartDataTest,
                                backgroundColor: rgbArray,
                                hoverBackgroundColor: rgbArray,
                            }]
                        },
                        options: {
                            legend: {
                                display: false
                            },
                            title: {
                                        display: true,
                                        text: 'Gaze & Brightness Maps Month 1'
                                    },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }],
                                xAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
                    });
                </script>



            <canvas id="myChart2" width="500" height="500"></canvas>  
            <script>
                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                    else {    // code for IE6, IE5
                        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttp.open("GET","./datasets/dataset_1/OBJPERC_gazemap_stage_2.xml",false);
                    xmlhttp.send();
                    xmlDoc=xmlhttp.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpbrightness=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpbrightness=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpbrightness.open("GET","./datasets/dataset_1/OBJPERC_brightnessmap_stage_2.xml",false);
                    xmlhttpbrightness.send();
                    xmlDocBright=xmlhttpbrightness.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpmappings=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpmappings=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpmappings.open("GET","./datasets/dataset_1/OBJPERC_mappings_stage_2.xml",false);
                    xmlhttpmappings.send();
                    xmlDocMap=xmlhttpmappings.responseXML;

                    x = xmlDoc.documentElement.childNodes;
                    y = xmlDoc.getElementsByTagName("Field");
                    z = xmlDocBright.getElementsByTagName("Field");
                    a = xmlDocMap.getElementsByTagName("Mapping");

                    var arrRad = [];
                    var arrY = [];
                    var arrX = [];
                    var arrB = [];

                    var arrGazeIndex = [];
                    var arrBrightIndex = [];

                    var arrM1 = [];
                    var arrM2 = [];
                    for (i = 0; i < y.length; i++) {
                        var firstRow = xmlDoc.getElementsByTagName("Field")[i];
                        var radius = firstRow.getAttribute("Radius");
                        arrRad.push(radius);

                        var gazeIndex = firstRow.getAttribute("Index");
                        arrGazeIndex.push(gazeIndex);
                    }

                    for (k = 0; k < a.length; k++) {
                        var firstRowMap = xmlDocMap.getElementsByTagName("Mapping")[k];
                        var mapone = firstRowMap.getAttribute("OneIndex");
                        arrM1.push(mapone);
                        var maptwo = firstRowMap.getAttribute("TwoIndex");
                        arrM2.push(maptwo);
                    }

                    for (j = 0; j < z.length; j++) {
                        var firstRowB = xmlDocBright.getElementsByTagName("Field")[j];
                        var brightIndex = firstRowB.getAttribute("Index");
                        arrBrightIndex.push(brightIndex);

                    }
                    var arrBTest = [];
                    var arrBSize = [];
                    var arrGazeIndexTest = [];

                    var arrXTest = [];
                    var arrYTest = [];
                    for(i = 0; i <arrM1.length; i++) {
                        if(isIncluded(arrBrightIndex, arrM2[i]) == true  && isIncluded(arrGazeIndex, arrM1[i]) == true) {
                            var arrBrightIndexTest = [];
                            for (j = 0; j<z.length; j++) {
                                var firstRowBTest = xmlDocBright.getElementsByTagName("Field")[j];
                                xCoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[0];
                                ycoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[1];

                                brightnessTest = xCoordsRowBTest.getAttribute("Value");
                                brightnessSize = ycoordsRowBTest.getAttribute("Value");

                                var brightnessFloat = parseFloat(brightnessTest/2/100);
                                var brightnessTest = brightnessFloat.toString();


                                //Potential to comment these two lines out for bigger and better bubbles!
                                var brightnessSizeFloat = parseFloat(brightnessSize/2);
                                var brightnessSize = brightnessSizeFloat.toString();

                                var brightIndexTest = firstRowBTest.getAttribute("Index");
                                arrBrightIndexTest.push(brightIndexTest);

                                if (arrBrightIndexTest[j] == arrM2[i]) {
                                    arrBTest.push(brightnessTest);
                                    arrBSize.push(brightnessSize);
                                    arrGazeIndexTest.push(arrM1[i]);
                                }

                            }
                            var arrGazeIndexTest2 = [];
                            for (j = 0; j<y.length; j++) {
                                var firstRowTest = xmlDoc.getElementsByTagName("Field")[j];
                                xCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[0];
                                yCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[1];

                                xCoordTest = xCoordsRowTest.getAttribute("Value");
                                yCoordTest = yCoordsRowTest.getAttribute("Value");

                                var gazeIndexTest = firstRowTest.getAttribute("Index");
                                arrGazeIndexTest2.push(gazeIndexTest);

                                if (arrGazeIndexTest2[j] == arrM1[i]) {
                                    arrXTest.push(xCoordTest);
                                    arrYTest.push(yCoordTest);

                                }
                            }
                        }
                    }

                    var chartDataTest = [];
                    arrXTest.forEach(function(e, i) {
                        chartDataTest.push({
                            x: parseFloat(e),
                            y: parseFloat(arrYTest[i]), 
                            r: parseFloat(arrBSize[i]),
                        });
                    });


                    var rgbArray = [];
                    for (i = 0; i < arrBTest.length; i++) {
                        testest = HSVtoRGB(0.15, 0.5, parseFloat(arrBTest[i]));
                        var str = objectToString(testest);
                        var replaceR = str.replace(/r:'/g, '');
                        var replaceG = replaceR.replace(/'g:'/g, ',');
                        var replaceB = replaceG.replace(/',b:'/g, ',');
                        var replaceEnd = replaceB.replace(/',/g, '');

                        rgbArray.push('rgba(' + replaceEnd + ',0.3)');

                    }

                    var ctx = document.getElementById("myChart2");
                    var myChart = new Chart(ctx, {
                        type: 'bubble',
                        data: { 
                            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                            datasets: [
                            {
                                label: 'Gaze Map Month 2',
                                data: chartDataTest,
                                backgroundColor: rgbArray,
                                hoverBackgroundColor: rgbArray,
                            }]
                        },
                        options: {
                            legend: {
                                display: false
                            },
                            title: {
                                        display: true,
                                        text: 'Gaze & Brightness Maps Month 2'
                                    },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }],
                                xAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
                    });
                </script>



            <canvas id="myChart3" width="500" height="500"></canvas>  
            <script>
                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                    else {    // code for IE6, IE5
                        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttp.open("GET","./datasets/dataset_1/OBJPERC_gazemap_stage_3.xml",false);
                    xmlhttp.send();
                    xmlDoc=xmlhttp.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpbrightness=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpbrightness=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpbrightness.open("GET","./datasets/dataset_1/OBJPERC_brightnessmap_stage_3.xml",false);
                    xmlhttpbrightness.send();
                    xmlDocBright=xmlhttpbrightness.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpmappings=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpmappings=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpmappings.open("GET","./datasets/dataset_1/OBJPERC_mappings_stage_3.xml",false);
                    xmlhttpmappings.send();
                    xmlDocMap=xmlhttpmappings.responseXML;

                    x = xmlDoc.documentElement.childNodes;
                    y = xmlDoc.getElementsByTagName("Field");
                    z = xmlDocBright.getElementsByTagName("Field");
                    a = xmlDocMap.getElementsByTagName("Mapping");

                    var arrRad = [];
                    var arrY = [];
                    var arrX = [];
                    var arrB = [];

                    var arrGazeIndex = [];
                    var arrBrightIndex = [];

                    var arrM1 = [];
                    var arrM2 = [];
                    for (i = 0; i < y.length; i++) {
                        var firstRow = xmlDoc.getElementsByTagName("Field")[i];
                        var radius = firstRow.getAttribute("Radius");
                        arrRad.push(radius);

                        var gazeIndex = firstRow.getAttribute("Index");
                        arrGazeIndex.push(gazeIndex);
                    }

                    for (k = 0; k < a.length; k++) {
                        var firstRowMap = xmlDocMap.getElementsByTagName("Mapping")[k];
                        var mapone = firstRowMap.getAttribute("OneIndex");
                        arrM1.push(mapone);
                        var maptwo = firstRowMap.getAttribute("TwoIndex");
                        arrM2.push(maptwo);
                    }

                    for (j = 0; j < z.length; j++) {
                        var firstRowB = xmlDocBright.getElementsByTagName("Field")[j];
                        var brightIndex = firstRowB.getAttribute("Index");
                        arrBrightIndex.push(brightIndex);

                    }
                    var arrBTest = [];
                    var arrBSize = [];
                    var arrGazeIndexTest = [];

                    var arrXTest = [];
                    var arrYTest = [];
                    for(i = 0; i <arrM1.length; i++) {
                        if(isIncluded(arrBrightIndex, arrM2[i]) == true  && isIncluded(arrGazeIndex, arrM1[i]) == true) {
                            var arrBrightIndexTest = [];
                            for (j = 0; j<z.length; j++) {
                                var firstRowBTest = xmlDocBright.getElementsByTagName("Field")[j];
                                xCoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[0];
                                ycoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[1];

                                brightnessTest = xCoordsRowBTest.getAttribute("Value");
                                brightnessSize = ycoordsRowBTest.getAttribute("Value");

                                var brightnessFloat = parseFloat(brightnessTest/2/100);
                                var brightnessTest = brightnessFloat.toString();


                                //Potential to comment these two lines out for bigger and better bubbles!
                                var brightnessSizeFloat = parseFloat(brightnessSize/2);
                                var brightnessSize = brightnessSizeFloat.toString();

                                var brightIndexTest = firstRowBTest.getAttribute("Index");
                                arrBrightIndexTest.push(brightIndexTest);

                                if (arrBrightIndexTest[j] == arrM2[i]) {
                                    arrBTest.push(brightnessTest);
                                    arrBSize.push(brightnessSize);
                                    arrGazeIndexTest.push(arrM1[i]);
                                }

                            }
                            var arrGazeIndexTest2 = [];
                            for (j = 0; j<y.length; j++) {
                                var firstRowTest = xmlDoc.getElementsByTagName("Field")[j];
                                xCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[0];
                                yCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[1];

                                xCoordTest = xCoordsRowTest.getAttribute("Value");
                                yCoordTest = yCoordsRowTest.getAttribute("Value");

                                var gazeIndexTest = firstRowTest.getAttribute("Index");
                                arrGazeIndexTest2.push(gazeIndexTest);

                                if (arrGazeIndexTest2[j] == arrM1[i]) {
                                    arrXTest.push(xCoordTest);
                                    arrYTest.push(yCoordTest);

                                }
                            }
                        }
                    }

                    var chartDataTest = [];
                    arrXTest.forEach(function(e, i) {
                        chartDataTest.push({
                            x: parseFloat(e),
                            y: parseFloat(arrYTest[i]), 
                            r: parseFloat(arrBSize[i]),
                        });
                    });


                    var rgbArray = [];
                    for (i = 0; i < arrBTest.length; i++) {
                        testest = HSVtoRGB(0.15, 0.5, parseFloat(arrBTest[i]));
                        var str = objectToString(testest);
                        var replaceR = str.replace(/r:'/g, '');
                        var replaceG = replaceR.replace(/'g:'/g, ',');
                        var replaceB = replaceG.replace(/',b:'/g, ',');
                        var replaceEnd = replaceB.replace(/',/g, '');

                        rgbArray.push('rgba(' + replaceEnd + ',0.3)');

                    }

                    var ctx = document.getElementById("myChart3");
                    var myChart = new Chart(ctx, {
                        type: 'bubble',
                        data: { 
                            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                            datasets: [
                            {
                                label: 'Gaze Map Month 3',
                                data: chartDataTest,
                                backgroundColor: rgbArray,
                                hoverBackgroundColor: rgbArray,
                            }]
                        },
                        options: {
                            legend: {
                                display: false
                            },
                            title: {
                                        display: true,
                                        text: 'Gaze & Brightness Maps Month 3'
                                    },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }],
                                xAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
                    });
                </script>

            <canvas id="myChart4" width="500" height="500"></canvas>  
            <script>
                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                    else {    // code for IE6, IE5
                        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttp.open("GET","./datasets/dataset_1/OBJPERC_gazemap_stage_4.xml",false);
                    xmlhttp.send();
                    xmlDoc=xmlhttp.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpbrightness=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpbrightness=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpbrightness.open("GET","./datasets/dataset_1/OBJPERC_brightnessmap_stage_4.xml",false);
                    xmlhttpbrightness.send();
                    xmlDocBright=xmlhttpbrightness.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpmappings=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpmappings=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpmappings.open("GET","./datasets/dataset_1/OBJPERC_mappings_stage_4.xml",false);
                    xmlhttpmappings.send();
                    xmlDocMap=xmlhttpmappings.responseXML;

                    x = xmlDoc.documentElement.childNodes;
                    y = xmlDoc.getElementsByTagName("Field");
                    z = xmlDocBright.getElementsByTagName("Field");
                    a = xmlDocMap.getElementsByTagName("Mapping");

                    var arrRad = [];
                    var arrY = [];
                    var arrX = [];
                    var arrB = [];

                    var arrGazeIndex = [];
                    var arrBrightIndex = [];

                    var arrM1 = [];
                    var arrM2 = [];
                    for (i = 0; i < y.length; i++) {
                        var firstRow = xmlDoc.getElementsByTagName("Field")[i];
                        var radius = firstRow.getAttribute("Radius");
                        arrRad.push(radius);

                        var gazeIndex = firstRow.getAttribute("Index");
                        arrGazeIndex.push(gazeIndex);
                    }

                    for (k = 0; k < a.length; k++) {
                        var firstRowMap = xmlDocMap.getElementsByTagName("Mapping")[k];
                        var mapone = firstRowMap.getAttribute("OneIndex");
                        arrM1.push(mapone);
                        var maptwo = firstRowMap.getAttribute("TwoIndex");
                        arrM2.push(maptwo);
                    }

                    for (j = 0; j < z.length; j++) {
                        var firstRowB = xmlDocBright.getElementsByTagName("Field")[j];
                        var brightIndex = firstRowB.getAttribute("Index");
                        arrBrightIndex.push(brightIndex);

                    }
                    var arrBTest = [];
                    var arrBSize = [];
                    var arrGazeIndexTest = [];

                    var arrXTest = [];
                    var arrYTest = [];
                    for(i = 0; i <arrM1.length; i++) {
                        if(isIncluded(arrBrightIndex, arrM2[i]) == true  && isIncluded(arrGazeIndex, arrM1[i]) == true) {
                            var arrBrightIndexTest = [];
                            for (j = 0; j<z.length; j++) {
                                var firstRowBTest = xmlDocBright.getElementsByTagName("Field")[j];
                                xCoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[0];
                                ycoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[1];

                                brightnessTest = xCoordsRowBTest.getAttribute("Value");
                                brightnessSize = ycoordsRowBTest.getAttribute("Value");

                                var brightnessFloat = parseFloat(brightnessTest/2/100);
                                var brightnessTest = brightnessFloat.toString();


                                //Potential to comment these two lines out for bigger and better bubbles!
                                var brightnessSizeFloat = parseFloat(brightnessSize/2);
                                var brightnessSize = brightnessSizeFloat.toString();

                                var brightIndexTest = firstRowBTest.getAttribute("Index");
                                arrBrightIndexTest.push(brightIndexTest);

                                if (arrBrightIndexTest[j] == arrM2[i]) {
                                    arrBTest.push(brightnessTest);
                                    arrBSize.push(brightnessSize);
                                    arrGazeIndexTest.push(arrM1[i]);
                                }

                            }
                            var arrGazeIndexTest2 = [];
                            for (j = 0; j<y.length; j++) {
                                var firstRowTest = xmlDoc.getElementsByTagName("Field")[j];
                                xCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[0];
                                yCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[1];

                                xCoordTest = xCoordsRowTest.getAttribute("Value");
                                yCoordTest = yCoordsRowTest.getAttribute("Value");

                                var gazeIndexTest = firstRowTest.getAttribute("Index");
                                arrGazeIndexTest2.push(gazeIndexTest);

                                if (arrGazeIndexTest2[j] == arrM1[i]) {
                                    arrXTest.push(xCoordTest);
                                    arrYTest.push(yCoordTest);

                                }
                            }
                        }
                    }

                    var chartDataTest = [];
                    arrXTest.forEach(function(e, i) {
                        chartDataTest.push({
                            x: parseFloat(e),
                            y: parseFloat(arrYTest[i]), 
                            r: parseFloat(arrBSize[i]),
                        });
                    });


                    var rgbArray = [];
                    for (i = 0; i < arrBTest.length; i++) {
                        testest = HSVtoRGB(0.15, 0.5, parseFloat(arrBTest[i]));
                        var str = objectToString(testest);
                        var replaceR = str.replace(/r:'/g, '');
                        var replaceG = replaceR.replace(/'g:'/g, ',');
                        var replaceB = replaceG.replace(/',b:'/g, ',');
                        var replaceEnd = replaceB.replace(/',/g, '');

                        rgbArray.push('rgba(' + replaceEnd + ',0.3)');

                    }

                    var ctx = document.getElementById("myChart4");
                    var myChart = new Chart(ctx, {
                        type: 'bubble',
                        data: { 
                            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                            datasets: [
                            {
                                label: 'Gaze Map Month 4',
                                data: chartDataTest,
                                backgroundColor: rgbArray,
                                hoverBackgroundColor: rgbArray,
                            }]
                        },
                        options: {
                            legend: {
                                display: false
                            },
                            title: {
                                        display: true,
                                        text: 'Gaze & Brightness Maps Month 4'
                                    },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }],
                                xAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
                    });
                </script>
            <canvas id="myChart5" width="500" height="500"></canvas>  
            <script>
                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                    else {    // code for IE6, IE5
                        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttp.open("GET","./datasets/dataset_1/OBJPERC_gazemap_stage_5.xml",false);
                    xmlhttp.send();
                    xmlDoc=xmlhttp.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpbrightness=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpbrightness=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpbrightness.open("GET","./datasets/dataset_1/OBJPERC_brightnessmap_stage_5.xml",false);
                    xmlhttpbrightness.send();
                    xmlDocBright=xmlhttpbrightness.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpmappings=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpmappings=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpmappings.open("GET","./datasets/dataset_1/OBJPERC_mappings_stage_5.xml",false);
                    xmlhttpmappings.send();
                    xmlDocMap=xmlhttpmappings.responseXML;

                    x = xmlDoc.documentElement.childNodes;
                    y = xmlDoc.getElementsByTagName("Field");
                    z = xmlDocBright.getElementsByTagName("Field");
                    a = xmlDocMap.getElementsByTagName("Mapping");

                    var arrRad = [];
                    var arrY = [];
                    var arrX = [];
                    var arrB = [];

                    var arrGazeIndex = [];
                    var arrBrightIndex = [];

                    var arrM1 = [];
                    var arrM2 = [];
                    for (i = 0; i < y.length; i++) {
                        var firstRow = xmlDoc.getElementsByTagName("Field")[i];
                        var radius = firstRow.getAttribute("Radius");
                        arrRad.push(radius);

                        var gazeIndex = firstRow.getAttribute("Index");
                        arrGazeIndex.push(gazeIndex);
                    }

                    for (k = 0; k < a.length; k++) {
                        var firstRowMap = xmlDocMap.getElementsByTagName("Mapping")[k];
                        var mapone = firstRowMap.getAttribute("OneIndex");
                        arrM1.push(mapone);
                        var maptwo = firstRowMap.getAttribute("TwoIndex");
                        arrM2.push(maptwo);
                    }

                    for (j = 0; j < z.length; j++) {
                        var firstRowB = xmlDocBright.getElementsByTagName("Field")[j];
                        var brightIndex = firstRowB.getAttribute("Index");
                        arrBrightIndex.push(brightIndex);

                    }
                    var arrBTest = [];
                    var arrBSize = [];
                    var arrGazeIndexTest = [];

                    var arrXTest = [];
                    var arrYTest = [];
                    for(i = 0; i <arrM1.length; i++) {
                        if(isIncluded(arrBrightIndex, arrM2[i]) == true  && isIncluded(arrGazeIndex, arrM1[i]) == true) {
                            var arrBrightIndexTest = [];
                            for (j = 0; j<z.length; j++) {
                                var firstRowBTest = xmlDocBright.getElementsByTagName("Field")[j];
                                xCoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[0];
                                ycoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[1];

                                brightnessTest = xCoordsRowBTest.getAttribute("Value");
                                brightnessSize = ycoordsRowBTest.getAttribute("Value");

                                var brightnessFloat = parseFloat(brightnessTest/2/100);
                                var brightnessTest = brightnessFloat.toString();


                                //Potential to comment these two lines out for bigger and better bubbles!
                                var brightnessSizeFloat = parseFloat(brightnessSize/2);
                                var brightnessSize = brightnessSizeFloat.toString();

                                var brightIndexTest = firstRowBTest.getAttribute("Index");
                                arrBrightIndexTest.push(brightIndexTest);

                                if (arrBrightIndexTest[j] == arrM2[i]) {
                                    arrBTest.push(brightnessTest);
                                    arrBSize.push(brightnessSize);
                                    arrGazeIndexTest.push(arrM1[i]);
                                }

                            }
                            var arrGazeIndexTest2 = [];
                            for (j = 0; j<y.length; j++) {
                                var firstRowTest = xmlDoc.getElementsByTagName("Field")[j];
                                xCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[0];
                                yCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[1];

                                xCoordTest = xCoordsRowTest.getAttribute("Value");
                                yCoordTest = yCoordsRowTest.getAttribute("Value");

                                var gazeIndexTest = firstRowTest.getAttribute("Index");
                                arrGazeIndexTest2.push(gazeIndexTest);

                                if (arrGazeIndexTest2[j] == arrM1[i]) {
                                    arrXTest.push(xCoordTest);
                                    arrYTest.push(yCoordTest);

                                }
                            }
                        }
                    }

                    var chartDataTest = [];
                    arrXTest.forEach(function(e, i) {
                        chartDataTest.push({
                            x: parseFloat(e),
                            y: parseFloat(arrYTest[i]), 
                            r: parseFloat(arrBSize[i]),
                        });
                    });


                    var rgbArray = [];
                    for (i = 0; i < arrBTest.length; i++) {
                        testest = HSVtoRGB(0.15, 0.5, parseFloat(arrBTest[i]));
                        var str = objectToString(testest);
                        var replaceR = str.replace(/r:'/g, '');
                        var replaceG = replaceR.replace(/'g:'/g, ',');
                        var replaceB = replaceG.replace(/',b:'/g, ',');
                        var replaceEnd = replaceB.replace(/',/g, '');

                        rgbArray.push('rgba(' + replaceEnd + ',0.3)');

                    }

                    var ctx = document.getElementById("myChart5");
                    var myChart = new Chart(ctx, {
                        type: 'bubble',
                        data: { 
                            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                            datasets: [
                            {
                                label: 'Gaze Map Month 5',
                                data: chartDataTest,
                                backgroundColor: rgbArray,
                                hoverBackgroundColor: rgbArray,
                            }]
                        },
                        options: {
                            legend: {
                                display: false
                            },
                            title: {
                                        display: true,
                                        text: 'Gaze & Brightness Maps Month 5'
                                    },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }],
                                xAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
                    });
                </script>
            <canvas id="myChart6" width="500" height="500"></canvas>  
            <script>
                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                    else {    // code for IE6, IE5
                        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttp.open("GET","./datasets/dataset_1/OBJPERC_gazemap_stage_6.xml",false);
                    xmlhttp.send();
                    xmlDoc=xmlhttp.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpbrightness=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpbrightness=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpbrightness.open("GET","./datasets/dataset_1/OBJPERC_brightnessmap_stage_6.xml",false);
                    xmlhttpbrightness.send();
                    xmlDocBright=xmlhttpbrightness.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpmappings=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpmappings=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpmappings.open("GET","./datasets/dataset_1/OBJPERC_mappings_stage_6.xml",false);
                    xmlhttpmappings.send();
                    xmlDocMap=xmlhttpmappings.responseXML;

                    x = xmlDoc.documentElement.childNodes;
                    y = xmlDoc.getElementsByTagName("Field");
                    z = xmlDocBright.getElementsByTagName("Field");
                    a = xmlDocMap.getElementsByTagName("Mapping");

                    var arrRad = [];
                    var arrY = [];
                    var arrX = [];
                    var arrB = [];

                    var arrGazeIndex = [];
                    var arrBrightIndex = [];

                    var arrM1 = [];
                    var arrM2 = [];
                    for (i = 0; i < y.length; i++) {
                        var firstRow = xmlDoc.getElementsByTagName("Field")[i];
                        var radius = firstRow.getAttribute("Radius");
                        arrRad.push(radius);

                        var gazeIndex = firstRow.getAttribute("Index");
                        arrGazeIndex.push(gazeIndex);
                    }

                    for (k = 0; k < a.length; k++) {
                        var firstRowMap = xmlDocMap.getElementsByTagName("Mapping")[k];
                        var mapone = firstRowMap.getAttribute("OneIndex");
                        arrM1.push(mapone);
                        var maptwo = firstRowMap.getAttribute("TwoIndex");
                        arrM2.push(maptwo);
                    }

                    for (j = 0; j < z.length; j++) {
                        var firstRowB = xmlDocBright.getElementsByTagName("Field")[j];
                        var brightIndex = firstRowB.getAttribute("Index");
                        arrBrightIndex.push(brightIndex);

                    }
                    var arrBTest = [];
                    var arrBSize = [];
                    var arrGazeIndexTest = [];

                    var arrXTest = [];
                    var arrYTest = [];
                    for(i = 0; i <arrM1.length; i++) {
                        if(isIncluded(arrBrightIndex, arrM2[i]) == true  && isIncluded(arrGazeIndex, arrM1[i]) == true) {
                            var arrBrightIndexTest = [];
                            for (j = 0; j<z.length; j++) {
                                var firstRowBTest = xmlDocBright.getElementsByTagName("Field")[j];
                                xCoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[0];
                                ycoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[1];

                                brightnessTest = xCoordsRowBTest.getAttribute("Value");
                                brightnessSize = ycoordsRowBTest.getAttribute("Value");

                                var brightnessFloat = parseFloat(brightnessTest/2/100);
                                var brightnessTest = brightnessFloat.toString();


                                //Potential to comment these two lines out for bigger and better bubbles!
                                var brightnessSizeFloat = parseFloat(brightnessSize/2);
                                var brightnessSize = brightnessSizeFloat.toString();

                                var brightIndexTest = firstRowBTest.getAttribute("Index");
                                arrBrightIndexTest.push(brightIndexTest);

                                if (arrBrightIndexTest[j] == arrM2[i]) {
                                    arrBTest.push(brightnessTest);
                                    arrBSize.push(brightnessSize);
                                    arrGazeIndexTest.push(arrM1[i]);
                                }

                            }
                            var arrGazeIndexTest2 = [];
                            for (j = 0; j<y.length; j++) {
                                var firstRowTest = xmlDoc.getElementsByTagName("Field")[j];
                                xCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[0];
                                yCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[1];

                                xCoordTest = xCoordsRowTest.getAttribute("Value");
                                yCoordTest = yCoordsRowTest.getAttribute("Value");

                                var gazeIndexTest = firstRowTest.getAttribute("Index");
                                arrGazeIndexTest2.push(gazeIndexTest);

                                if (arrGazeIndexTest2[j] == arrM1[i]) {
                                    arrXTest.push(xCoordTest);
                                    arrYTest.push(yCoordTest);

                                }
                            }
                        }
                    }

                    var chartDataTest = [];
                    arrXTest.forEach(function(e, i) {
                        chartDataTest.push({
                            x: parseFloat(e),
                            y: parseFloat(arrYTest[i]), 
                            r: parseFloat(arrBSize[i]),
                        });
                    });


                    var rgbArray = [];
                    for (i = 0; i < arrBTest.length; i++) {
                        testest = HSVtoRGB(0.15, 0.5, parseFloat(arrBTest[i]));
                        var str = objectToString(testest);
                        var replaceR = str.replace(/r:'/g, '');
                        var replaceG = replaceR.replace(/'g:'/g, ',');
                        var replaceB = replaceG.replace(/',b:'/g, ',');
                        var replaceEnd = replaceB.replace(/',/g, '');

                        rgbArray.push('rgba(' + replaceEnd + ',0.3)');

                    }

                    var ctx = document.getElementById("myChart6");
                    var myChart = new Chart(ctx, {
                        type: 'bubble',
                        data: { 
                            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                            datasets: [
                            {
                                label: 'Gaze Map Month 6',
                                data: chartDataTest,
                                backgroundColor: rgbArray,
                                hoverBackgroundColor: rgbArray,
                            }]
                        },
                        options: {
                            legend: {
                                display: false
                            },
                            title: {
                                        display: true,
                                        text: 'Gaze & Brightness Maps Month 6'
                                    },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }],
                                xAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
                    });
                </script>
            <canvas id="myChart7" width="500" height="500"></canvas>  
            <script>
                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                    else {    // code for IE6, IE5
                        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttp.open("GET","./datasets/dataset_1/OBJPERC_gazemap_stage_7.xml",false);
                    xmlhttp.send();
                    xmlDoc=xmlhttp.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpbrightness=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpbrightness=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpbrightness.open("GET","./datasets/dataset_1/OBJPERC_brightnessmap_stage_7.xml",false);
                    xmlhttpbrightness.send();
                    xmlDocBright=xmlhttpbrightness.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpmappings=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpmappings=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpmappings.open("GET","./datasets/dataset_1/OBJPERC_mappings_stage_7.xml",false);
                    xmlhttpmappings.send();
                    xmlDocMap=xmlhttpmappings.responseXML;

                    x = xmlDoc.documentElement.childNodes;
                    y = xmlDoc.getElementsByTagName("Field");
                    z = xmlDocBright.getElementsByTagName("Field");
                    a = xmlDocMap.getElementsByTagName("Mapping");

                    var arrRad = [];
                    var arrY = [];
                    var arrX = [];
                    var arrB = [];

                    var arrGazeIndex = [];
                    var arrBrightIndex = [];

                    var arrM1 = [];
                    var arrM2 = [];
                    for (i = 0; i < y.length; i++) {
                        var firstRow = xmlDoc.getElementsByTagName("Field")[i];
                        var radius = firstRow.getAttribute("Radius");
                        arrRad.push(radius);

                        var gazeIndex = firstRow.getAttribute("Index");
                        arrGazeIndex.push(gazeIndex);
                    }

                    for (k = 0; k < a.length; k++) {
                        var firstRowMap = xmlDocMap.getElementsByTagName("Mapping")[k];
                        var mapone = firstRowMap.getAttribute("OneIndex");
                        arrM1.push(mapone);
                        var maptwo = firstRowMap.getAttribute("TwoIndex");
                        arrM2.push(maptwo);
                    }

                    for (j = 0; j < z.length; j++) {
                        var firstRowB = xmlDocBright.getElementsByTagName("Field")[j];
                        var brightIndex = firstRowB.getAttribute("Index");
                        arrBrightIndex.push(brightIndex);

                    }
                    var arrBTest = [];
                    var arrBSize = [];
                    var arrGazeIndexTest = [];

                    var arrXTest = [];
                    var arrYTest = [];
                    for(i = 0; i <arrM1.length; i++) {
                        if(isIncluded(arrBrightIndex, arrM2[i]) == true  && isIncluded(arrGazeIndex, arrM1[i]) == true) {
                            var arrBrightIndexTest = [];
                            for (j = 0; j<z.length; j++) {
                                var firstRowBTest = xmlDocBright.getElementsByTagName("Field")[j];
                                xCoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[0];
                                ycoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[1];

                                brightnessTest = xCoordsRowBTest.getAttribute("Value");
                                brightnessSize = ycoordsRowBTest.getAttribute("Value");

                                var brightnessFloat = parseFloat(brightnessTest/2/100);
                                var brightnessTest = brightnessFloat.toString();


                                //Potential to comment these two lines out for bigger and better bubbles!
                                var brightnessSizeFloat = parseFloat(brightnessSize/2);
                                var brightnessSize = brightnessSizeFloat.toString();

                                var brightIndexTest = firstRowBTest.getAttribute("Index");
                                arrBrightIndexTest.push(brightIndexTest);

                                if (arrBrightIndexTest[j] == arrM2[i]) {
                                    arrBTest.push(brightnessTest);
                                    arrBSize.push(brightnessSize);
                                    arrGazeIndexTest.push(arrM1[i]);
                                }

                            }
                            var arrGazeIndexTest2 = [];
                            for (j = 0; j<y.length; j++) {
                                var firstRowTest = xmlDoc.getElementsByTagName("Field")[j];
                                xCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[0];
                                yCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[1];

                                xCoordTest = xCoordsRowTest.getAttribute("Value");
                                yCoordTest = yCoordsRowTest.getAttribute("Value");

                                var gazeIndexTest = firstRowTest.getAttribute("Index");
                                arrGazeIndexTest2.push(gazeIndexTest);

                                if (arrGazeIndexTest2[j] == arrM1[i]) {
                                    arrXTest.push(xCoordTest);
                                    arrYTest.push(yCoordTest);

                                }
                            }
                        }
                    }

                    var chartDataTest = [];
                    arrXTest.forEach(function(e, i) {
                        chartDataTest.push({
                            x: parseFloat(e),
                            y: parseFloat(arrYTest[i]), 
                            r: parseFloat(arrBSize[i]),
                        });
                    });


                    var rgbArray = [];
                    for (i = 0; i < arrBTest.length; i++) {
                        testest = HSVtoRGB(0.15, 0.5, parseFloat(arrBTest[i]));
                        var str = objectToString(testest);
                        var replaceR = str.replace(/r:'/g, '');
                        var replaceG = replaceR.replace(/'g:'/g, ',');
                        var replaceB = replaceG.replace(/',b:'/g, ',');
                        var replaceEnd = replaceB.replace(/',/g, '');

                        rgbArray.push('rgba(' + replaceEnd + ',0.3)');

                    }

                    var ctx = document.getElementById("myChart7");
                    var myChart = new Chart(ctx, {
                        type: 'bubble',
                        data: { 
                            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                            datasets: [
                            {
                                label: 'Gaze Map Month 7',
                                data: chartDataTest,
                                backgroundColor: rgbArray,
                                hoverBackgroundColor: rgbArray,
                            }]
                        },
                        options: {
                            legend: {
                                display: false
                            },
                            title: {
                                        display: true,
                                        text: 'Gaze & Brightness Maps Month 7'
                                    },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }],
                                xAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
                    });
                </script>
            <canvas id="myChart8" width="500" height="500"></canvas>  
            <script>
                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                    else {    // code for IE6, IE5
                        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttp.open("GET","./datasets/dataset_1/OBJPERC_gazemap_stage_8.xml",false);
                    xmlhttp.send();
                    xmlDoc=xmlhttp.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpbrightness=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpbrightness=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpbrightness.open("GET","./datasets/dataset_1/OBJPERC_brightnessmap_stage_8.xml",false);
                    xmlhttpbrightness.send();
                    xmlDocBright=xmlhttpbrightness.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpmappings=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpmappings=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpmappings.open("GET","./datasets/dataset_1/OBJPERC_mappings_stage_8.xml",false);
                    xmlhttpmappings.send();
                    xmlDocMap=xmlhttpmappings.responseXML;

                    x = xmlDoc.documentElement.childNodes;
                    y = xmlDoc.getElementsByTagName("Field");
                    z = xmlDocBright.getElementsByTagName("Field");
                    a = xmlDocMap.getElementsByTagName("Mapping");

                    var arrRad = [];
                    var arrY = [];
                    var arrX = [];
                    var arrB = [];

                    var arrGazeIndex = [];
                    var arrBrightIndex = [];

                    var arrM1 = [];
                    var arrM2 = [];
                    for (i = 0; i < y.length; i++) {
                        var firstRow = xmlDoc.getElementsByTagName("Field")[i];
                        var radius = firstRow.getAttribute("Radius");
                        arrRad.push(radius);

                        var gazeIndex = firstRow.getAttribute("Index");
                        arrGazeIndex.push(gazeIndex);
                    }

                    for (k = 0; k < a.length; k++) {
                        var firstRowMap = xmlDocMap.getElementsByTagName("Mapping")[k];
                        var mapone = firstRowMap.getAttribute("OneIndex");
                        arrM1.push(mapone);
                        var maptwo = firstRowMap.getAttribute("TwoIndex");
                        arrM2.push(maptwo);
                    }

                    for (j = 0; j < z.length; j++) {
                        var firstRowB = xmlDocBright.getElementsByTagName("Field")[j];
                        var brightIndex = firstRowB.getAttribute("Index");
                        arrBrightIndex.push(brightIndex);

                    }
                    var arrBTest = [];
                    var arrBSize = [];
                    var arrGazeIndexTest = [];

                    var arrXTest = [];
                    var arrYTest = [];
                    for(i = 0; i <arrM1.length; i++) {
                        if(isIncluded(arrBrightIndex, arrM2[i]) == true  && isIncluded(arrGazeIndex, arrM1[i]) == true) {
                            var arrBrightIndexTest = [];
                            for (j = 0; j<z.length; j++) {
                                var firstRowBTest = xmlDocBright.getElementsByTagName("Field")[j];
                                xCoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[0];
                                ycoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[1];

                                brightnessTest = xCoordsRowBTest.getAttribute("Value");
                                brightnessSize = ycoordsRowBTest.getAttribute("Value");

                                var brightnessFloat = parseFloat(brightnessTest/2/100);
                                var brightnessTest = brightnessFloat.toString();


                                //Potential to comment these two lines out for bigger and better bubbles!
                                var brightnessSizeFloat = parseFloat(brightnessSize/2);
                                var brightnessSize = brightnessSizeFloat.toString();

                                var brightIndexTest = firstRowBTest.getAttribute("Index");
                                arrBrightIndexTest.push(brightIndexTest);

                                if (arrBrightIndexTest[j] == arrM2[i]) {
                                    arrBTest.push(brightnessTest);
                                    arrBSize.push(brightnessSize);
                                    arrGazeIndexTest.push(arrM1[i]);
                                }

                            }
                            var arrGazeIndexTest2 = [];
                            for (j = 0; j<y.length; j++) {
                                var firstRowTest = xmlDoc.getElementsByTagName("Field")[j];
                                xCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[0];
                                yCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[1];

                                xCoordTest = xCoordsRowTest.getAttribute("Value");
                                yCoordTest = yCoordsRowTest.getAttribute("Value");

                                var gazeIndexTest = firstRowTest.getAttribute("Index");
                                arrGazeIndexTest2.push(gazeIndexTest);

                                if (arrGazeIndexTest2[j] == arrM1[i]) {
                                    arrXTest.push(xCoordTest);
                                    arrYTest.push(yCoordTest);

                                }
                            }
                        }
                    }

                    var chartDataTest = [];
                    arrXTest.forEach(function(e, i) {
                        chartDataTest.push({
                            x: parseFloat(e),
                            y: parseFloat(arrYTest[i]), 
                            r: parseFloat(arrBSize[i]),
                        });
                    });


                    var rgbArray = [];
                    for (i = 0; i < arrBTest.length; i++) {
                        testest = HSVtoRGB(0.15, 0.5, parseFloat(arrBTest[i]));
                        var str = objectToString(testest);
                        var replaceR = str.replace(/r:'/g, '');
                        var replaceG = replaceR.replace(/'g:'/g, ',');
                        var replaceB = replaceG.replace(/',b:'/g, ',');
                        var replaceEnd = replaceB.replace(/',/g, '');

                        rgbArray.push('rgba(' + replaceEnd + ',0.3)');

                    }

                    var ctx = document.getElementById("myChart8");
                    var myChart = new Chart(ctx, {
                        type: 'bubble',
                        data: { 
                            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                            datasets: [
                            {
                                label: 'Gaze Map Month 8',
                                data: chartDataTest,
                                backgroundColor: rgbArray,
                                hoverBackgroundColor: rgbArray,
                            }]
                        },
                        options: {
                            legend: {
                                display: false
                            },
                            title: {
                                        display: true,
                                        text: 'Gaze & Brightness Maps Month 8'
                                    },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }],
                                xAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
                    });
                </script>

            <canvas id="myChart9" width="500" height="500"></canvas>  
            <script>
                if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                    else {    // code for IE6, IE5
                        xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttp.open("GET","./datasets/dataset_1/OBJPERC_gazemap_stage_9.xml",false);
                    xmlhttp.send();
                    xmlDoc=xmlhttp.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpbrightness=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpbrightness=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpbrightness.open("GET","./datasets/dataset_1/OBJPERC_brightnessmap_stage_9.xml",false);
                    xmlhttpbrightness.send();
                    xmlDocBright=xmlhttpbrightness.responseXML;

                    if (window.XMLHttpRequest) {    // code for IE7+, Firefox, Chrome, Opera, Safari
                        xmlhttpmappings=new XMLHttpRequest();
                    }
                    else {    // code for IE6, IE5
                        xmlhttpmappings=new ActiveXObject("Microsoft.XMLHTTP");
                    }
                    xmlhttpmappings.open("GET","./datasets/dataset_1/OBJPERC_mappings_stage_9.xml",false);
                    xmlhttpmappings.send();
                    xmlDocMap=xmlhttpmappings.responseXML;

                    x = xmlDoc.documentElement.childNodes;
                    y = xmlDoc.getElementsByTagName("Field");
                    z = xmlDocBright.getElementsByTagName("Field");
                    a = xmlDocMap.getElementsByTagName("Mapping");

                    var arrRad = [];
                    var arrY = [];
                    var arrX = [];
                    var arrB = [];

                    var arrGazeIndex = [];
                    var arrBrightIndex = [];

                    var arrM1 = [];
                    var arrM2 = [];
                    for (i = 0; i < y.length; i++) {
                        var firstRow = xmlDoc.getElementsByTagName("Field")[i];
                        var radius = firstRow.getAttribute("Radius");
                        arrRad.push(radius);

                        var gazeIndex = firstRow.getAttribute("Index");
                        arrGazeIndex.push(gazeIndex);
                    }

                    for (k = 0; k < a.length; k++) {
                        var firstRowMap = xmlDocMap.getElementsByTagName("Mapping")[k];
                        var mapone = firstRowMap.getAttribute("OneIndex");
                        arrM1.push(mapone);
                        var maptwo = firstRowMap.getAttribute("TwoIndex");
                        arrM2.push(maptwo);
                    }

                    for (j = 0; j < z.length; j++) {
                        var firstRowB = xmlDocBright.getElementsByTagName("Field")[j];
                        var brightIndex = firstRowB.getAttribute("Index");
                        arrBrightIndex.push(brightIndex);

                    }
                    var arrBTest = [];
                    var arrBSize = [];
                    var arrGazeIndexTest = [];

                    var arrXTest = [];
                    var arrYTest = [];
                    for(i = 0; i <arrM1.length; i++) {
                        if(isIncluded(arrBrightIndex, arrM2[i]) == true  && isIncluded(arrGazeIndex, arrM1[i]) == true) {
                            var arrBrightIndexTest = [];
                            for (j = 0; j<z.length; j++) {
                                var firstRowBTest = xmlDocBright.getElementsByTagName("Field")[j];
                                xCoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[0];
                                ycoordsRowBTest = firstRowBTest.getElementsByTagName("Dimension")[1];

                                brightnessTest = xCoordsRowBTest.getAttribute("Value");
                                brightnessSize = ycoordsRowBTest.getAttribute("Value");

                                var brightnessFloat = parseFloat(brightnessTest/2/100);
                                var brightnessTest = brightnessFloat.toString();


                                //Potential to comment these two lines out for bigger and better bubbles!
                                var brightnessSizeFloat = parseFloat(brightnessSize/2);
                                var brightnessSize = brightnessSizeFloat.toString();

                                var brightIndexTest = firstRowBTest.getAttribute("Index");
                                arrBrightIndexTest.push(brightIndexTest);

                                if (arrBrightIndexTest[j] == arrM2[i]) {
                                    arrBTest.push(brightnessTest);
                                    arrBSize.push(brightnessSize);
                                    arrGazeIndexTest.push(arrM1[i]);
                                }

                            }
                            var arrGazeIndexTest2 = [];
                            for (j = 0; j<y.length; j++) {
                                var firstRowTest = xmlDoc.getElementsByTagName("Field")[j];
                                xCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[0];
                                yCoordsRowTest = firstRowTest.getElementsByTagName("Dimension")[1];

                                xCoordTest = xCoordsRowTest.getAttribute("Value");
                                yCoordTest = yCoordsRowTest.getAttribute("Value");

                                var gazeIndexTest = firstRowTest.getAttribute("Index");
                                arrGazeIndexTest2.push(gazeIndexTest);

                                if (arrGazeIndexTest2[j] == arrM1[i]) {
                                    arrXTest.push(xCoordTest);
                                    arrYTest.push(yCoordTest);

                                }
                            }
                        }
                    }

                    var chartDataTest = [];
                    arrXTest.forEach(function(e, i) {
                        chartDataTest.push({
                            x: parseFloat(e),
                            y: parseFloat(arrYTest[i]), 
                            r: parseFloat(arrBSize[i]),
                        });
                    });

                    var rgbArray = [];
                    for (i = 0; i < arrBTest.length; i++) {
                        testest = HSVtoRGB(0.15, 0.5, parseFloat(arrBTest[i]));
                        var str = objectToString(testest);
                        var replaceR = str.replace(/r:'/g, '');
                        var replaceG = replaceR.replace(/'g:'/g, ',');
                        var replaceB = replaceG.replace(/',b:'/g, ',');
                        var replaceEnd = replaceB.replace(/',/g, '');

                        rgbArray.push('rgba(' + replaceEnd + ',0.3)');

                    }

                    var ctx = document.getElementById("myChart9");
                    var myChart9 = new Chart(ctx, {
                        type: 'bubble',
                        data: { 
                            labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
                            datasets: [
                            {
                                label: 'Gaze Map Month 9',
                                data: chartDataTest,
                                backgroundColor: rgbArray,
                                hoverBackgroundColor: rgbArray,
                                
                            }]
                        },
                        options: {
                            legend: {
                                display: false
                            },
                            title: {
                                        display: true,
                                        text: 'Gaze & Brightness Maps Month 9'
                                    },


                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }],
                                xAxes: [{
                                    ticks: {
                                        beginAtZero:true
                                    }
                                }]
                            }
                        }
                    });
                </script>
        </div>

    </body>
    </html>
